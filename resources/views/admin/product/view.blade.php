@extends('layouts.adminMaster')

@section('product') active show-sub @endsection
@section('manage-product') active @endsection


@php
$settings = App\Models\Setting::where('id', 1)->first();
@endphp
@section('title') 
@if($settings->site_name) View Product | {{$settings->site_name}} @else View Product | {{config('app.name')}}  @endif
@endsection




@section('adminContent')

<nav class="breadcrumb sl-breadcrumb">
    <a class="breadcrumb-item" href="{{url('/')}}">
        @if($settings->site_name) {{$settings->site_name}} @else {{config('app.name')}}  @endif
    </a>
    <a class="breadcrumb-item" href="{{route('admin.dashboard')}}">Dashboard</a>
    <a class="breadcrumb-item" href="{{route('product.manage')}}">Manage-Product</a>
    <span class="breadcrumb-item active">View Product</span>
</nav>


<div class="sl-pagebody">
    <div class="row row-sm">

        <div class="col-lg-12 col-md-12 col-sm-12" >
            <div class="card ">
                <h5 class="card-header text-center">View Product Information</h5>
                <div class="card-body">


                    <div class="table-responsive">
                        <table class="table table-bordered mg-b-0" style="table-layout: fixed; word-wrap: break-word;">
                            <br>
                            <tbody >

                                <tr>
                                    <td class="text-right"><strong>Brand Name :</strong></td>
                                    <td>{{$product->brand->brand_name_en}}</td>
                                    <td class="text-right"><strong>Category Name :</strong></td>
                                    <td>{{$product->category->category_name_en}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Subcategory Name :</strong></td>
                                    <td>{{$product->subcategory->subcategory_name_en}}</td>
                                    <td class="text-right"><strong>Sub-subCategory Name :</strong></td>
                                    <td>{{$product->sub_subcategory->sub_subcategory_name_en}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Product Name English :</strong></td>
                                    <td>{{$product->product_name_en}}</td>
                                    <td class="text-right"><strong>Product Name Bangla :</strong></td>
                                    <td>{{$product->product_name_bn}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Product Code :</strong></td>
                                    <td>{{$product->product_code}}</td>
                                    <td class="text-right"><strong>Product Quantity :</strong></td>
                                    <td>{{$product->product_qty}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Product Tag English :</strong></td>
                                    <td>{{$product->product_tag_en}}</td>
                                    <td class="text-right"><strong>Product Tag Bangla :</strong></td>
                                    <td>{{$product->product_tag_bn}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Product Size English :</strong></td>
                                    <td>{{$product->product_size_en}}</td>
                                    <td class="text-right"><strong>Product Size Bangla :</strong></td>
                                    <td>{{$product->product_size_bn}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Product Color English :</strong></td>
                                    <td>{{$product->product_color_en}}</td>
                                    <td class="text-right"><strong>Product Color Bangla :</strong></td>
                                    <td>{{$product->product_color_bn}}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Product Selling Price :</strong></td>
                                    <td>{{$product->selling_price}}</td>
                                    <td class="text-right"><strong>Product Discount Price :</strong></td>
                                    <td>{{$product->discount_price}}</td>
                                </tr>
                                
                                <tr>
                                    <td class="text-right"><strong>Product Thumbnail :</strong></td>
                                    <td>
                                        <img src="{{ asset('uploads/product/thumbnail/') }}/{{$product->product_thumbnail}}" style="height: 73px; width: 73px;">
                                    </td>
                                    <td class="text-right"><strong>Product Multiple Images :</strong></td>
                                    <td>
                                        @foreach($multiple_images as $multiple_image)
                                        <img src="{{ asset('uploads/product/multiple-image/') }}/{{$multiple_image->product_image}}" alt="Multiple Image" style="height: 73px; width: 73px;">
                                        @endforeach
                                    </td>
                                </tr>

                                <tr>
                                    <td class="text-right"><strong>Short Description English :</strong></td>
                                    <td>{!! $product->short_descp_en !!}</td>
                                    <td class="text-right"><strong>Short Description Bangla :</strong></td>
                                    <td>{!! $product->short_descp_bn !!}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Long Description English :</strong></td>
                                    <td>{!! $product->long_descp_en !!}</td>
                                    <td class="text-right"><strong>Long Description Bangla :</strong></td>
                                    <td>{!! $product->long_descp_bn !!}</td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Hot Deal :</strong></td>
                                    <td>
                                        @if($product->hot_deal == 1)
                                        YES
                                        @else 
                                        NO
                                        @endif
                                    </td>
                                    <td class="text-right"><strong>Featured :</strong></td>
                                    <td>
                                       @if($product->featured == 1)
                                        YES
                                        @else 
                                        NO
                                        @endif
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-right"><strong>Special Offer :</strong></td>
                                    <td>
                                        @if($product->special_offer == 1)
                                        YES
                                        @else 
                                        NO
                                        @endif
                                    </td>
                                    <td class="text-right"><strong>Special Deal :</strong></td>
                                    <td>
                                        @if($product->special_deal == 1)
                                        YES
                                        @else 
                                        NO
                                        @endif
                                    </td>
                                </tr>
                                
                            </tbody>
                        </table>
                    </div><!-- table-responsive -->

                    <br><br>
                    <a href="{{ route('product.manage') }}" class="btn btn-info"><i class="fa fa-arrow-left"></i> Back</a>
                    @isset(auth()->user()->role->permission['permission']['product']['edit'] ) 
                    <a href="{{url('admin/product/edit/'.$product->id)}}" class="btn btn-success">Edit <i class="fa fa-edit"></i></a>
                    @endisset
                    <br><br>
                    
                </div><!-- card body -->
            </div><!-- card -->
        </div>              

    </div><!-- row -->
    <br><br>
</div>>






<!--================================ Dependent SubCategory Dropdown =================================================-->
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script>
$(document).ready(function () {

    $('select[name="category_id"]').on('change', function () {
        var category_id = $(this).val();
        if (category_id) {
            $.ajax({
                url: "{{ url('/admin/subcategory/ajax')}}/" + category_id,
                type: "GET",
                dataType: "json",
                success: function (data) {
                    $('select[name="sub_subcategory_id"]').html('');

                    var d = $('select[name="subcategory_id"]').empty();
                    $.each(data, function (key, value) {
                        $('select[name="subcategory_id"]').append('<option label="Choose one"></option>' + '<option value="' + value.id + '">' + value.subcategory_name_en + '</option>');
                    });
                },
            });
        } else {
            alert('danger');
        }
    });

    $('select[name="subcategory_id"]').on('change', function () {
        var subcategory_id = $(this).val();
        if (subcategory_id) {
            $.ajax({
                url: "{{ url('/admin/sub-subcategory/ajax')}}/" + subcategory_id,
                type: "GET",
                dataType: "json",
                success: function (data) {
                    var d = $('select[name="sub_subcategory_id"]').empty();
                    $.each(data, function (key, value) {
                        $('select[name="sub_subcategory_id"]').append('<option value="' + value.id + '">' + value.sub_subcategory_name_en + '</option>');
                    });
                },
            });
        } else {
            alert('danger');
        }
    });
});

</script>
<!--================================ End: Dependent SubCategory Dropdown =================================================-->


<!--================================ Preview Multiple Images Before Upload  =================================================-->
<script>
    $(document).ready(function () {
        $('#multiImg').on('change', function () { //on file input change
            if (window.File && window.FileReader && window.FileList && window.Blob) //check File API supported browser
            {
                var data = $(this)[0].files; //this file data
                var d = $('#preview_img').empty();
                $.each(data, function (index, file) { //loop though each file
                    if (/(\.|\/)(gif|jpe?g|png)$/i.test(file.type)) { //check supported file type
                        var fRead = new FileReader(); //new filereader
                        fRead.onload = (function (file) { //trigger function on successful read
                            return function (e) {
                                var img = $('<img/>').addClass('thumb').attr('src', e.target.result).width(80)
                                        .height(80); //create image element
                                $('#preview_img').append(img); //append image to output element
                            };
                        })(file);
                        fRead.readAsDataURL(file); //URL representing the file's data.
                    }
                });
            } else {
                alert("Your browser doesn't support File API!"); //if File API is absent
            }
        });
    });
</script>
<!--================================ End: Preview Multiple Images Before Upload =================================================-->


<!--================================ Preview Thumbnail Images Before Upload =================================================-->
<script>
    function mainThambUrl(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#mainThmb').attr('src', e.target.result).width(80)
                        .height(80);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
<!--================================ End: Preview Thumbnail Images Before Upload =================================================-->



@endsection                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           